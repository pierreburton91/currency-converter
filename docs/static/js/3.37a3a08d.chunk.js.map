{"version":3,"sources":["components/Flags.js","views/CurrencySelect.js"],"names":["Flags","currencyId","children","useContext","StoreContext","countries","flags","filter","country","initialIndex","length","Math","floor","random","useState","index","setIndex","flagsImages","map","i","className","src","id","toLowerCase","alt","name","useEffect","timeout","newIndex","setTimeout","clearTimeout","CurrencySelect","currencies","dispatch","currenciesList","currency","onClick","payload","type","state","callBackActionName","callBackPath","window","location","replace","callBackRouting","tabIndex","role","currencyName","currencySymbol","useLocation","setState"],"mappings":"uKA4BeA,IAxBf,YAA0C,IAAzBC,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,SAAY,EACfC,qBAAWC,KAA1BC,EAD8B,oBAC9BA,UACHC,EAAQD,EAAYA,EAAUE,QAAO,SAAAC,GAAO,OAAIA,EAAQP,aAAeA,KAAc,GACrFQ,EAAeH,EAAMI,OAAS,EAAIC,KAAKC,MAAMD,KAAKE,SAAWP,EAAMI,QAAU,EAH5C,EAIbI,mBAASL,GAJI,mBAIhCM,EAJgC,KAIzBC,EAJyB,KAKjCC,EAAcX,EAAMI,OAASJ,EAAMY,KAAI,SAACV,EAASW,GAAV,OAAgB,qBAAKC,UAAYD,IAAMJ,EAAS,gCAAkC,cAAgBM,IAAG,8BAAyBb,EAAQc,GAAGC,cAApC,QAAyDC,IAAKhB,EAAQiB,MAAWjB,EAAQc,OAAU,qBAAKF,UAAU,yBAWpQ,OATAM,qBAAU,WACR,IAAIC,EACJ,GAAIrB,EAAMI,OAAS,EAAG,CACpB,IAAMkB,EAAYb,EAAQ,IAAOT,EAAMI,OAAS,EAAIK,EAAQ,EAC5DY,EAAUE,YAAW,kBAAMb,EAASY,KAAW,MAEjD,OAAO,kBAAME,aAAaH,MACzB,CAACZ,EAAOT,EAAMI,SAGf,sBAAKU,UAAU,QAAf,UACGH,EACAf,GAAY,qBAAKkB,UAAU,cAAf,SAA8BlB,S,wIC2BlC6B,UA5Cf,WAA2B,IAAD,EACW5B,qBAAWC,KADtB,mBACf4B,EADe,KACfA,WAAcC,EADC,KAElBC,EAAiBF,EAAaA,EAAWd,KAAI,SAAAiB,GAAQ,OACvD,qBAAKC,QAAS,kBAyBFC,EAzBeF,EA0B7BF,EAAS,CACPK,KAAMC,EAAMC,mBACZH,iBAbJ,WACE,IAAII,EAEFA,GADF,OAAIF,QAAJ,IAAIA,OAAJ,EAAIA,EAAOE,cACMF,EAAME,aAEN,IAEjBC,OAAOC,SAASC,QAAQH,GAQxBI,GALF,IAAgBR,GAzB0BS,SAAS,IAAIC,KAAK,SAAS3B,UAAU,sCAA3E,SACE,eAAC,IAAD,CAAOnB,WAAYkC,EAASb,GAA5B,UACGa,EAASa,aACV,sBAAK5B,UAAU,sBAAf,UAAsCe,EAASb,GAA/C,IAAoDa,EAASc,gBAAkB,uBAAM7B,UAAU,wBAAhB,eAA2Ce,EAASc,yBAHjBd,EAASb,OAO/H,mBAAGF,UAAU,yBAAb,+BACEuB,EAAWO,cAXO,EAYEpC,mBAAS6B,EAASJ,OAZpB,mBAYjBA,EAZiB,KAYVY,EAZU,KAoCxB,OAtBAzB,qBAAU,WACRyB,EAASR,EAASJ,SACjB,CAACI,IAqBF,sBAAKvB,UAAU,uBAAf,UACE,oBAAIA,UAAU,yBAAd,wBACEc","file":"static/js/3.37a3a08d.chunk.js","sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport { StoreContext } from \"../store/store-context\";\r\nimport \"../styles/Flags.scss\";\r\n\r\nfunction Flags({ currencyId, children }) {\r\n  const [{ countries }] = useContext(StoreContext);\r\n  const flags = countries ? countries.filter(country => country.currencyId === currencyId) : [];\r\n  const initialIndex = flags.length > 1 ? Math.floor(Math.random() * flags.length) : 0;\r\n  const [index, setIndex] = useState(initialIndex);\r\n  const flagsImages = flags.length ? flags.map((country, i) => <img className={(i === index) ? \"flags__flag flags__flag--show\" : \"flags__flag\" } src={`https://flagcdn.com/${country.id.toLowerCase()}.svg`} alt={country.name} key={country.id} />) : <div className=\"flags__flag--missing\"></div>;\r\n\r\n  useEffect(() => {\r\n    let timeout;\r\n    if (flags.length > 1) {\r\n      const newIndex = (index + 1) === flags.length ? 0 : index + 1;\r\n      timeout = setTimeout(() => setIndex(newIndex), 2400);\r\n    }\r\n    return () => clearTimeout(timeout);\r\n  }, [index, flags.length]);\r\n\r\n  return (\r\n    <div className=\"flags\">\r\n      {flagsImages}\r\n      {children && <div className=\"flags__data\">{children}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Flags;","import { useContext, useEffect, useState } from \"react\";\r\nimport { StoreContext } from \"../store/store-context\";\r\nimport Flags from \"../components/Flags\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport \"../styles/CurrencySelect.scss\";\r\n\r\nfunction CurrencySelect() {\r\n  const [{ currencies }, dispatch] = useContext(StoreContext);\r\n  const currenciesList = currencies ? currencies.map(currency => (\r\n      <div onClick={() => select(currency)} tabIndex=\"0\" role=\"button\" className=\"currency-select__item currency-item\" key={currency.id}>\r\n        <Flags currencyId={currency.id}>\r\n          {currency.currencyName}\r\n          <div className=\"currency-item__name\">{currency.id} {currency.currencySymbol && <span className=\"currency-item__symbol\">- {currency.currencySymbol}</span>}</div>\r\n        </Flags>\r\n      </div>)\r\n    )\r\n    : <p className=\"currency-select__empty\">No currency found</p>;\r\n  const location = useLocation();\r\n  const [state, setState] = useState(location.state);\r\n  \r\n  useEffect(() => {\r\n    setState(location.state);\r\n  }, [location]);\r\n\r\n  function callBackRouting() {\r\n    let callBackPath;\r\n    if (state?.callBackPath) {\r\n      callBackPath = state.callBackPath;\r\n    } else {\r\n      callBackPath = \"/\";\r\n    }\r\n    window.location.replace(callBackPath);\r\n  }\r\n  \r\n  function select(payload) {\r\n    dispatch({\r\n      type: state.callBackActionName,\r\n      payload\r\n    });\r\n    callBackRouting();\r\n  }\r\n\r\n  return (\r\n    <div className=\"currency-select page\">\r\n      <h1 className=\"currency-select__title\">Currencies</h1>\r\n      { currenciesList }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CurrencySelect;"],"sourceRoot":""}