(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[4],{70:function(e,n,t){"use strict";var c=t(10),r=t(1),a=t(0),s=t(15);t(71);n.a=function(e){var n=e.currencyId,t=e.children,i=Object(a.useContext)(s.a),u=Object(c.a)(i,1)[0].countries,l=u?u.filter((function(e){return e.currencyId===n})):[],d=l.length>1?Math.floor(Math.random()*l.length):0,o=Object(a.useState)(d),j=Object(c.a)(o,2),b=j[0],h=j[1],v=l.length?l.map((function(e,n){return Object(r.jsx)("img",{className:n===b?"flags__flag flags__flag--show":"flags__flag",src:"https://flagcdn.com/".concat(e.id.toLowerCase(),".svg"),alt:e.name},e.id)})):Object(r.jsx)("div",{className:"flags__flag--missing"});return Object(a.useEffect)((function(){var e;if(l.length>1){var n=b+1===l.length?0:b+1;e=setTimeout((function(){return h(n)}),2400)}return function(){return clearTimeout(e)}}),[b,l.length]),Object(r.jsxs)("div",{className:"flags",children:[v,t&&Object(r.jsx)("div",{className:"flags__data",children:t})]})}},71:function(e,n,t){},72:function(e,n,t){},76:function(e,n,t){"use strict";t.r(n);var c=t(8),r=t(10),a=t(1),s=t(0),i=t(15),u=t(70),l=(t(72),function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()}),d=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=t.shouldPreventDefault,a=void 0===c||c,i=t.delay,u=void 0===i?500:i,d=Object(s.useState)(!1),o=Object(r.a)(d,2),j=o[0],b=o[1],h=Object(s.useRef)(),v=Object(s.useRef)(),f=Object(s.useCallback)((function(n){a&&n.target&&(n.target.addEventListener("touchend",l,{passive:!1}),v.current=n.target),h.current=setTimeout((function(){b(!0),e(n)}),u)}),[e,u,a]),p=Object(s.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];h.current&&clearTimeout(h.current),t&&!j&&n(),b(!1),a&&v.current&&v.current.removeEventListener("touchend",l)}),[a,n,j]);return{onMouseDown:function(e){return f(e)},onTouchStart:function(e){return f(e)},onMouseUp:function(e){return p(e)},onMouseLeave:function(e){return p(e,!1)},onTouchEnd:function(e){return p(e)}}};var o=function(e){var n=e.currency,t=Object(s.useContext)(i.a),l=Object(r.a)(t,2)[1],o=d((function(){"vibrate"in window.navigator&&window.navigator.vibrate(24),l({type:"removePinnedCurrency",payload:n})}),(function(){}),{shouldPreventDefault:!0,delay:1500}),j=n.currentValue?n.currentValue.toFixed(0):"0",b=n.currentValue?".".concat(n.currentValue.toFixed(2).split(".")[1]):".00",h=n.currentValue&&n.previousValue?(100/n.previousValue*n.currentValue-100).toFixed(2):"0",v=parseFloat(h)>=0;return Object(a.jsxs)("div",Object(c.a)(Object(c.a)({className:"pinned__item",tabIndex:"0",role:"button"},o),{},{children:[Object(a.jsxs)(u.a,{currencyId:n.id,children:[n.currencyName,Object(a.jsx)("div",{children:n.id})]}),Object(a.jsxs)("div",{className:"pinned__values pinned-values",children:[Object(a.jsxs)("div",{className:"pinned-values__value",children:[n.currencySymbol," ",j,Object(a.jsx)("span",{className:"currency__decimal",children:b})]}),Object(a.jsxs)("div",{className:v?"pinned-values__trend pinned-values__trend--up":"pinned-values__trend pinned-values__trend--down",children:[v?"+".concat(h):h,"%"]})]})]}))},j=t.p+"static/media/empty-pinned.2b827caa.svg";var b=function(){return Object(a.jsxs)("div",{className:"pinned__empty pinned-empty",children:[Object(a.jsx)("img",{className:"pinned-empty__image",src:j,alt:"Drawing of a girl next to a list of pinned items"}),Object(a.jsx)("p",{children:"There are no pinned currencies at the moment."}),Object(a.jsx)("p",{children:'Pin a currency using the "+" button.'})]})},h=t(16),v=t(20);n.default=function(){var e=Object(s.useContext)(i.a),n=Object(r.a)(e,2),t=n[0],l=t.defaults,d=t.pinnedCurrencies,j=n[1],f=d.length?d.map((function(e){return Object(a.jsx)(o,{currency:e},e.id)})):Object(a.jsx)(b,{});return Object(s.useEffect)((function(){var e=!1;return e||d.forEach((function(e){(!("lastFetch"in e)||e.lastFetch>=Date.now()+36e4)&&Promise.all([Object(v.a)(l.currency.id,e.id),Object(v.d)(l.currency.id,e.id)]).then((function(n){var t=n.map((function(e){return Object.values(e.data)[0]})).reduce((function(e,n){return"object"===typeof n?e.previousValue=Object.values(n)[0]:e.currentValue=n,e}),{}),r=Object(c.a)(Object(c.a)({},e),t);r.lastFetch=Date.now(),j({type:"updatePinnedCurrency",payload:r})}))})),function(){return e=!0}}),[d,l,j]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("header",{className:"base",children:[Object(a.jsx)("div",{className:"base__top top",children:Object(a.jsx)("h1",{className:"base__title",children:"Dashboard"})}),Object(a.jsxs)("div",{className:"base__container",children:[Object(a.jsxs)(u.a,{currencyId:l.currency.id,children:[l.currency.currencyName,Object(a.jsx)("div",{children:l.currency.id})]}),Object(a.jsxs)("div",{className:"base__currency currency",children:[l.currency.currencySymbol," 1",Object(a.jsx)("span",{className:"currency__decimal",children:".00"})]})]})]}),Object(a.jsxs)("section",{className:"pinned page",children:[Object(a.jsx)("h2",{className:"pinned__title",children:"Pinned currencies"}),f,Object(a.jsx)(h.b,{to:{pathname:"/currency-select",state:{callBackActionName:"pinCurrency"}},className:"fab","aria-label":"Add new item",children:Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})]})})]})]})}}}]);
//# sourceMappingURL=4.abd5c4e5.chunk.js.map